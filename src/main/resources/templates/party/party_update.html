<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>파티 수정하기</title>
</head>
<body>
<h1>✏️ 파티 수정하기</h1>

<form th:action="@{/party/update}" method="post">
    <!-- 글 ID는 숨겨서 전달 -->
    <input type="hidden" name="id" th:value="${party.id}" />

    <p>
        <label>제목:</label><br>
        <input type="text" name="title" th:value="${party.title}" required />
    </p>

    <p>
        <label>내용:</label><br>
        <textarea name="content" rows="5" cols="40" th:text="${party.content}"></textarea>
    </p>

    <p>
        <label>장소:</label><br>
        <input type="text" name="locationName" th:value="${party.locationName}" />
    </p>

    <p>
        <label>음식 카테고리:</label><br>
        <select name="foodCategory">
            <option value="한식" th:selected="${party.foodCategory == '한식'}">한식</option>
            <option value="양식" th:selected="${party.foodCategory == '양식'}">양식</option>
            <option value="일식" th:selected="${party.foodCategory == '일식'}">일식</option>
            <option value="중식" th:selected="${party.foodCategory == '중식'}">중식</option>
        </select>
    </p>

    <p>
        <label>성별 제한:</label><br>
        <select name="genderLimit">
            <option value="ALL" th:selected="${party.genderLimit == 'ALL'}">상관없음</option>
            <option value="MALE" th:selected="${party.genderLimit == 'MALE'}">남성만</option>
            <option value="FEMALE" th:selected="${party.genderLimit == 'FEMALE'}">여성만</option>
        </select>
    </p>

    <p>
        <label>식사 시간:</label><br>
        <input type="datetime-local" name="partyTime"
               th:value="${#temporals.format(party.partyTime, 'yyyy-MM-dd''T''HH:mm')}" />
    </p>

    <p>
        <label for="deadline">파티 신청 마감 시간:</label><br>
        <input type="datetime-local" id="deadline" name="deadline"
               th:value="${#temporals.format(party.deadline, 'yyyy-MM-dd''T''HH:mm')}" />
    </p>

    <p>
        <button type="submit">수정 완료</button>
        <a th:href="@{/party/list}">목록으로</a>
    </p>
</form>
</body>
</html>
